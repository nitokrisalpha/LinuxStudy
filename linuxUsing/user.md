# Linuz账号管理与ACL权限设置

## Linux的账户与用户组

    linux是多用户操作系统，非管理员用户想使用计算机资源需要向管理员处得到一个账户，故需要对用户进行管理，那Linux又是如何辨别每一个用户的呢?

### 用户标识符 UID GID

    虽然我们登陆Linux时输入的是用户名，但其实Linux系统识别的不是用户名，识别的是用户名对应的ID, 而ID与账号的对应关系保存在 /etc/passwd 当中

### 用户账户

    Linux系统上面的用户登陆主机以取得shell的环境来工作时，它经过了哪些步骤呢？ 首先，它必须在计算机前面利用tty1~tty7的终端机提供的login接口，并输入账号与密码后才能够登陆，那输入了用户名和密码后，系统帮你处理了什么呢?
        1.先在 /etc/passwd 里面搜寻是否有你输入的账号，，如果没有则跳出，如果有的话将该账户对应的UID GID读出，另外，该账号的主文件夹与shell设置也一并读出
        2.核对密码表，这时候系统会进入 /etc/shadown 里面找出对应账号与UID，然后核对一下你刚才输入的密码与里面的密码是否相符
        3.如果一切ok就进入shell管控
    /etc/passwd 文件结构
        这个文件的构造为:每一行代表一个账号，有几行就代表有几个账号咋子你的系统中，特别注意:里面有很多账号本来就是系统正常运行所必须要要的所以这个文件不要去随意修改和删除
    UID的范围:
        0       系统管理员，当UID是0时，代表这个账号是“系统管理员”
        1-499   系统账号，保留给系统使用的ID
        500-65535 给一般用户使用的，新内核支持更大的ID
    GID
        这个与 /etc/group 文件有关，和 /etc/passwd 差不多，只是它是用来规定组名与GID的对应而已
    主文件夹
        如果想让账户的主文件夹移动到其他位置需要在里面更改
    shell
        用户登陆系统之后会取得一个shell来与系统内核建立通信，默认的shell就是最后那个字段指定的如果想让某个账号无法取得shell环境的登陆操作，那就可以把这个字段设置为 /sbin/nologin 
    /etc/shadow 文件结构

    root密码找回
        两种方法，进入单用户维护模式，系统会主动给予root权限的bash接口，然后利用passwd修改密码即可
        以LiveCD开机后挂载系统根目录去修改 /etc/shadow 将里面的root密码字段清空就好了

## 用户创建

    使用useradd命令，创建用户
    useradd [选项] username
    系统会有一个默认密码，不知道是啥，需要使用 passed username 来修改，而且root用户可以随时执行这条命令来修改非管理员用户密码

## 用户删除

    userdel [选项] 用户名，删除用户，默认不会删除用户根目录

## 用户组删除和创建

    groupadd
    groupdel
    和用户创建与删除差不多的

